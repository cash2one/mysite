#conding='utf-8'
#from help_get_home.models import ClassifyInfo,UserInfo,ShopInfo,ProductInfo
#coding=utf-8
default_encoding='utf-8'
from  help_get_home.models import *
from rest_framework import serializers
import sys
import datetime
reload(sys)
sys.setdefaultencoding('utf-8')

class ClassifySerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ClassifyInfo
        fields = ('type','label','sub_type','sub_label','status')
class SrvLimitSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = SrvLimit 
        fields = ('requirement','srv_limit')
class UserSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = UserInfo
        fields = ('phone','pwd')
class ShopSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ShopInfo
        fields = ('shop_name','shop_url','type','entity','level', \
                  'shop_address','srv_attitude','srv_speed', \
                  'srv_contents','order_num','shop_desc'
                 )

class UnLicenseShoperSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ShopInfo
        fields = ('user_id','shop_name','type', \
                  'shoper','shoper_phone','telephone','srv_sub_type',\
                  'srv_community','shop_address','post_address',\
                  'positive_idcard','opposite_idcard','hand_idcard')

class LicenseShoperSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ShopInfo
        fields = ('user_id','shop_name','type', \
                  'shoper','telephone','srv_sub_type',\
                  'srv_community','shop_address',\
                  'positive_idcard','opposite_idcard','hand_idcard', \
                  'business_license','tax_license')

class ProductSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ProductInfo
        fields = ('product_id','product_name','shop_id','url','price','product_num','product_desc','begin_time','end_time','evaluate')
class AreaSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = AreaInfo
        fields = ('area_id','area')
class CitySerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = CityInfo
        fields = ('city_id','city')
class DistrictSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = DistrictInfo
        fields = ('city_id','district_id','district')
class AddrSerializer(serializers.HyperlinkedModelSerializer):
    id = serializers.IntegerField(max_value=None, min_value=None,required=False)
    addr_type = serializers.IntegerField(max_value=None, min_value=None,required=False,default=0)
    status = serializers.IntegerField(required=False,default=1)
    last_modify = serializers.DateTimeField(required=False,default = datetime.datetime.now)
    class Meta:
        model = AddrInfo
        fields = ('id','user_id','name','telephone','city','district','area','address','addr_type','status','last_modify')

class MyAddrSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = AddrInfo
        fields = ('id','name','telephone','city','district','area','address','addr_type')
class MyShopSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = ShopInfo
        fields = ('shop_id','shop_name', \
                  'shop_address','telephone','srv_community')
class OrderSerializer(serializers.HyperlinkedModelSerializer):
    order_status = serializers.IntegerField(required=False,default=0)
    pay_type = serializers.IntegerField(max_value=2, min_value=0,required=False,default=0)
    is_coupon = serializers.IntegerField(required=False,default=0)
    c_time = serializers.DateTimeField(required=False,default = datetime.datetime.now)
    m_time = serializers.DateTimeField(required=False,default = datetime.datetime.now)
    class Meta:
        model = SaleOrder
        fields = ('order_id','user_id','product_id','shop_id','product_num', \
                  'money','begin_time','end_time','address_info','order_status',   \
                  'pay_type','is_coupon','c_time','m_time'
                  )
